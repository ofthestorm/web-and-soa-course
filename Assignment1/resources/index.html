<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>music</title>
    <link rel="stylesheet" type="text/css" href="../resources/css/jquery.fullPage.css"/>
    <link rel="stylesheet" type="text/css" href="../resources/css/kite.min.css"/>
    <link rel="stylesheet" type="text/css" href="../resources/css/hover.css"/>
    <link rel="stylesheet" type="text/css" href="../resources/css/animate.css"/>
    <!--<link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"/>-->
    <link rel="stylesheet" type="text/css" href="../resources/css/style.css"/>

</head>
<body>


<!--<div id="youtube-player"></div>-->

<div id="fullpage">
    <div class="section" id="section0">
        <div class="intro">
            <h1>Welcome</h1>
            <p>It's a world all about music! Have fun! </p>
        </div>
    </div>
    <div class="section " id="section1">
        <h1>Discover more music</h1>
        <p>Get tired of pop music? Try listening to these increasingly popular tracks created by indie musician.</p>
        <br/>
        <div class="track-content">
            <div class="kite kite--fill kite--full is-equalize">
                <div class="kite__item kite-color">
                    <div class="track">
                        <div class="track-hover">
                            <p class="track-name">track name</p>
                            <br/>
                            <p class="track-artist">artist name</p>
                            <br/>
                            <p class="track-time">publish data</p>
                        </div>
                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">
                        <div class="track-hover">
                            <p class="track-name">track name</p>
                            <p class="track-artist">artist name</p>
                            <p class="track-time">publish data</p>
                        </div>
                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
            </div>
            <br/>
            <div class="kite kite--fill kite--full is-equalize">
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
                <div class="kite__item kite-color">
                    <div class="track">

                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="section" id="section2">
        <div class="slide">
            <div class="intro">
                <h1>Activities</h1>
                <p>All kinds of concert, live show, and outdoor music festival for you to choose.</p>
                <br/><br/><br/><br/><br/><br/>
                <div class="event-content">
                    <div class="kite kite--fill kite--full is-equalize">
                        <div class="kite__item kite-color">
                            <div class="event">
                                <div class="event-hover">
                                    <p>题主这个问题我也遇到了，然后搜索一下就scripit</p>
                                </div>
                            </div>
                        </div>
                        <div class="kite__item kite-color">
                            <div class="event">
                                <div class="event-hover">
                                    <p class="event-description">descripition</p>
                                </div>
                            </div>
                        </div>
                        <div class="kite__item kite-color">
                            <div class="event">

                            </div>
                        </div>
                        <div class="kite__item kite-color">
                            <div class="event">

                            </div>
                        </div>
                        <div class="kite__item kite-color">
                            <div class="event">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide">
            <div class="intro">
                <h1></h1>
                <p></p>
            </div>
        </div>
        <div class="slide">
            <div class="intro">
                <h1>Cool</h1>
                <p></p>
            </div>
        </div>

    </div>


    <div class="section" id="section3">
        <div class="intro">
            <h1>Artists</h1>
            <p>Here are the most popular artists. Do you know all of them? And which is your favourite one?
            </p>
            <div class="artist-content">
                <div class="kite kite--fill kite--full is-equalize">
                    <div class="kite__item">
                        <div class="artist">
                            <img src="https://lastfm-img2.akamaized.net/i/u/174s/aa9dfbdec965d751cd1fa4ec5a309299.png">
                            <div class="artist-hover">
                                <p class="artist-name">Name</p>
                            </div>
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                            <div class="artist-hover">

                            </div>
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                </div>
                <br/>
                <div class="kite kite--fill kite--full is-equalize">
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                </div>
                <br/>
                <div class="kite kite--fill kite--full is-equalize">
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                    <div class="kite__item">
                        <div class="artist">
                        </div>
                    </div>
                </div>
                <br/>
        </div>
    </div>

</div>

    <div class="section active" id="section4">
        <div class="intro">
            <h1 class="section4h">Want more? </h1>
            <p class="section4p">Try to search for your interested artist.</p>
            <br/><br/>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-4">
                    <div class="input-group">
                        <input id="search-keyword" type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
              <button class="btn btn-default" id="searchBtn" type="button" onclick="sendAjaxReq()">Search</button>
            </span>
                    </div><!-- /input-group -->
                </div><!-- /.col-lg-6 -->
            </div>
            <br/><br/>
            <div class="result">
                <div class="spinner">
                    <div class="rect1"></div>
                    <div class="rect2"></div>
                    <div class="rect3"></div>
                    <div class="rect4"></div>
                    <div class="rect5"></div>
                </div>

                <div class="result-image">
                    <img id="result-img" style="width: 200px; height: 200px;" src="">
                </div>
                <div class="result-content">
                    <p class="result-property" id="s-name">Name</p>
                    <p class="result-value" id="result-name"> </p>
                    <p class="result-property" id="s-pop">Popularity</p>
                    <p class="result-value" id="result-popularity"> </p>
                    <p class="result-property" id="s-gen">Genres</p>
                    <p class="result-value" id="result-genres"> </p>
                </div>
            </div>
            <br/><br/><br/><br/>
        </div>
    </div>

</div>
<script src="../resources/js/jquery-3.2.1.js"></script>
<script src="../resources/js/jquery.fullpage.min.js"></script>
<script src="../resources/js/jquery.tubeplayer.min.js"></script>
<script src="../resources/js/script.js"></script>
<script>
    $('.spinner').hide();
    function sendAjaxReq()
    {
        var str = document.getElementById("search-keyword").value;
        console.log(str);
        var xmlhttp;

        if (str=="")
        {
            // document.getElementById("textHint").src = "";
            return;
        }

        $('.result-image').hide();
        $('.result-content').hide();
        $('.spinner').show();

        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange=function()
        {
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                //success
                var ajaxResult = jQuery.parseJSON(xmlhttp.responseText);
                var image = ajaxResult.artists.items[0].images[1].url;
                var name = ajaxResult.artists.items[0].name;
                var genres = ajaxResult.artists.items[0].genres[0];
                var popularity = ajaxResult.artists.items[0].popularity;

                document.getElementById('result-img').src = image.toString();
                document.getElementById('result-name').innerHTML = name;
                document.getElementById('result-popularity').innerHTML = popularity;
                document.getElementById('result-genres').innerHTML = genres;

                document.getElementById('s-name').style.display = "block";
                document.getElementById('s-pop').style.display = "block";
                document.getElementById('s-gen').style.display = "block";


                $('.spinner').hide();
                $('.result-image').show();
                $('.result-content').show();

            }
        }

        var url ="https://api.spotify.com/v1/search"+"?q="+str+"&type=artist&market=US&limit=1";

        xmlhttp.open("GET",url,true);

        //必须在open之后send之前!!!
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.setRequestHeader("Authorization", "Bearer BQDaux-BDP7g359IV0BZnnz83BWeF0qIOMfz5gRLpaADbQdOID8igETb2dv8imMNazaL18BZchIKhYN7YlS9b3CIxFWlJsiYG7ZkS-W4RKMoXduCxk_BwlSXKUmlSkzwNuzoEHAuIdZ5HvRQB2bR6RopOWNpXoQ");

        xmlhttp.send();
    }
</script>
</body>
</html>